<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>25 + 5 Clock</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
  <div class="clock" id="clock">

  </div>
  <script type="text/babel">
    class GetButton extends React.Component {
      constructor(props) {
        super(props);
        this.handleClick = this.handleClick.bind(this);
      }

      handleClick() {
        this.props.onButtonClick({ type: this.props.type, output: this.props.output});
      }

      render() {
        return (
          <button id={this.props.id} onClick={this.handleClick}>
            {this.props.children}
          </button>
        );
      }
    }

    class GetIcon extends React.Component {
      render() {
        return <i className={`fa ${this.props.class} fa-2x`}></i>;
      }
    }

    class Clock extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          breakLength: 5,
          sessionLength: 25,
          minDecrement: 1,
          maxIncrement: 60
        }
        this.handleButtonClick = this.handleButtonClick.bind(this);
      }

      decrement(prop) {
        this.setState((state) => {
          const value = state[prop];

          return {
            [prop]: value === state.minDecrement ? value : value - 1
          }
        });
      }


      increment(prop) {
        this.setState((state) => {
          const value = state[prop];

          return {
            [prop]: value === state.maxIncrement ? value : value + 1
          }
        });
      }

      handleButtonClick({ type, output }) {
        switch(type) {
          case 'decrement':
            this.decrement(output, type);
            break;
          case 'increment':
            this.increment(output);
          default:
        }
      }

      render() {
        return (
          <React.Fragment>
            <div className="title">25 + 5 Clock</div>
            <div className="increment-decrement">
              <div>
                <div id="break-label">Break Length</div>
                <GetButton id="break-decrement" type="decrement" output="breakLength" onButtonClick={this.handleButtonClick}>
                  <GetIcon class="fa-arrow-down"/>
                </GetButton>
                <span id="break-length">{this.state.breakLength}</span>
                <GetButton id="break-increment" type="increment" output="breakLength" onButtonClick={this.handleButtonClick}>
                  <GetIcon class="fa-arrow-up"/>
                </GetButton>
              </div>
              <div>
                <div id="session-label">Session Length</div>
                <GetButton id="session-decrement" type="decrement" output="sessionLength" onButtonClick={this.handleButtonClick}>
                  <GetIcon class="fa-arrow-down"/>
                </GetButton>
                <span id="session-length">{this.state.sessionLength}</span>
                <GetButton id="session-increment" type="increment" output="sessionLength" onButtonClick={this.handleButtonClick}>
                  <GetIcon class="fa-arrow-up"/>
                </GetButton>
              </div>
            </div>
            <div className="timer">
              <div id="timer-label">Session</div>
              <div id="time-left">25:00</div>
            </div>
            <div className="controls">
              <button id="start_stop">
                <i className="fa fa-play fa-2x"></i>
                <i className="fa fa-pause fa-2x"></i>
              </button>
              <button id="reset">
                <i className="fas fa-sync-alt fa-2x"></i>
              </button>
            </div>
          </React.Fragment>
        );
      }
    }
    const root = ReactDOM.createRoot(document.getElementById('clock'));
    root.render(<Clock/>);
  </script>
</body>
</html>